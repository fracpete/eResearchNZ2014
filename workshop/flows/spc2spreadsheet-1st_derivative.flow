# Project: adams
# Date: 2014-06-29 15:50:01
# User: fracpete
#
adams.flow.control.Flow
	-actor
		adams.flow.standalone.Rserve
	-actor
		adams.flow.source.SelectFile
			-extension
			spc
			-initial-file
			${HOME}/documents/conferences/eResearchNZ2014/workshop/data/spc/nir.spc
	-actor
		adams.flow.transformer.SetVariable
			-var-name
			file
	-actor
		adams.flow.transformer.RTransformer
			-script
			library(hyperSpec)\nspc = hyperSpec::read.spc(\"@{file}\")\ndata = attr(spc, \"data\")\nv = data[3]\nas.matrix(v, ncol = 700)
			-return-type
			DoubleMatrix
	-actor
		adams.flow.transformer.Jython
			-script
			${HOME}/documents/conferences/eResearchNZ2014/workshop/flows/spc2spreadsheet.py
	-actor
		adams.flow.transformer.Groovy
			-skip
			true
			-script
			${HOME}/documents/conferences/eResearchNZ2014/workshop/flows/spc2spreadsheet.groovy
	-actor
		adams.flow.transformer.Convert
			-conversion
				adams.data.conversion.DoubleMatrixToSpreadSheet
					-spreadsheet-type
						adams.data.spreadsheet.SpreadSheet
	-actor
		adams.flow.transformer.Convert
			-name
			Convert-1
			-conversion
				adams.data.conversion.SpreadSheetAddRowID
	-actor
		adams.flow.transformer.Convert
			-name
			Convert-2
			-conversion
				adams.data.conversion.TransposeSpreadSheet
					-use-first-column-as-header
					true
	-actor
		adams.flow.control.Branch
			-branch
				adams.flow.sink.SpreadSheetDisplay
					-writer
						adams.data.io.output.NullWriter
			-branch
				adams.flow.control.Sequence
					-actor
						adams.flow.transformer.SpreadSheetPlotGenerator
							-generator
								adams.flow.transformer.plotgenerator.SimplePlotGenerator
									-columns
									first-last
					-actor
						adams.flow.sink.SequencePlotter
							-writer
								adams.gui.print.NullWriter
							-paintlet
								adams.gui.visualization.sequence.LinePaintlet
							-overlay-paintlet
								adams.gui.visualization.sequence.CirclePaintlet
							-marker-paintlet
								adams.flow.sink.sequenceplotter.NoMarkers
							-error-paintlet
								adams.flow.sink.sequenceplotter.NoErrorPaintlet
							-color-provider
								adams.gui.visualization.core.DefaultColorProvider
							-overlay-color-provider
								adams.gui.visualization.core.DefaultColorProvider
							-title
							Spectra
							-axis-x
								adams.gui.visualization.core.AxisPanelOptions
									-label
									wave no
									-tick-generator
										adams.gui.visualization.core.axis.FancyTickGenerator
									-width
									40
									-custom-format
									0
							-axis-y
								adams.gui.visualization.core.AxisPanelOptions
									-label
									amplitude
									-tick-generator
										adams.gui.visualization.core.axis.FancyTickGenerator
									-width
									60
									-custom-format
									0.0
							-plot-updater
								adams.flow.sink.sequenceplotter.SimplePlotUpdater
									-update-interval
									-1
							-post-processor
								adams.flow.sink.sequenceplotter.PassThrough
	-flow-execution-listener
		adams.flow.execution.NullListener

